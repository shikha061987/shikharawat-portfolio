<!-- <section id="contact" class="insideDivdarkBg bg-gray-100 py-5 px-6 md:px-20"> -->

<div id="contact" class="mb-10 max-w-6xl mx-auto">

  <!-- Header Title -->

  <div class="text-center mb-16">
    <div class="inline-block"> <!-- shrink-to-content wrapper -->

      <h2 class="flex items-center justify-center gap-3 text-3xl font-extrabold 
             bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">

        <img src="contact-header.png" class="w-10 h-10 cursor-pointer animate-bounce-y" alt="info icon" />

        <span class="bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">
          Contact Me
        </span>
      </h2>

      <!-- line under header -->
      <div class="h-1 mt-2 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"></div>
    </div>
  </div>

  <div class=" grid grid-cols-1 lg:grid-cols-2 gap-8">

    <!-- Contact Info -->
    <div class="insideDivdarkBg bg-white rounded-lg shadow-lg p-6 ">
      <h2 class="text-xl font-semibold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent mb-6">
        Contact Information
      </h2>

      <div class="space-y-6">
        <!-- <div *ngFor="let contact of contactInfo">

          <button
            class="flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent hover:scale-105 transition-all duration-200"
            (click)="handleContactClick(contact)">
            <img [src]="contact.icon" class="w-7 h-7" alt="icon" />
            {{ contact.value }}
          </button>

        </div> -->
        <div>
  @for (contact of contactInfo; track contact.value) {
    <div>
      <button
        class="flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-500
               bg-clip-text text-transparent hover:scale-105
               transition-all duration-200"
        (click)="handleContactClick(contact)">

        <img
          [src]="contact.icon"
          class="w-7 h-7"
          alt="icon" />

        {{ contact.value }}
      </button><br>
    </div>
  }
</div>


        <!-- <div class="flex gap-3 mt-10 justify-center">
          <a *ngFor="let link of socialLinks" [href]="link.url" target="_blank" rel="noopener noreferrer"
            class="px-5 py-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:scale-105 shadow-md transition">
            {{ link.name }}
          </a>
        </div> -->
        <div class="flex gap-3 mt-10 justify-center">
  @for (link of socialLinks; track link.name) {
    <a
      [href]="link.url"
      target="_blank"
      rel="noopener noreferrer"
      class="px-5 py-2 rounded-full bg-gradient-to-r from-blue-500 to-purple-500
             text-white hover:scale-105 shadow-md transition">
      {{ link.name }}
    </a>
  }
</div>


      </div>
    </div>

    <!-- Contact Form -->

    <div class="insideDivdarkBg bg-white rounded-lg shadow-lg p-6">
      <h2 class="text-xl font-semibold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent mb-6">
        Send Message
      </h2>

      <form [formGroup]="contactForm" class="space-y-6" (ngSubmit)="onSubmit()">

        <!-- -------------- Name -->
        <div>
          <label class="contactlabel block text-sm font-medium text-gray-700 mb-2">Your Name</label>
          <input type="text" formControlName="name"
            class="formplaceholder w-full px-4 py-3 text-sm border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"
            placeholder="Enter your full name">

          <p *ngIf="isInvalid('name')" class="text-red-500 text-sm mt-1">
            Name is required (min 3 characters)
          </p>

        </div>

        <!-- ------ Email -->
        <div>
          <label class="contactlabel block text-sm font-medium text-gray-700 mb-2">Your Email</label>
          <input type="email" formControlName="email"
            class="formplaceholder w-full px-4 py-3 text-sm border border-slate-300  rounded-lg focus:ring-2 focus:ring-blue-500"
            placeholder="Enter your email">

          <p *ngIf="submitted && contactForm.controls['email'].invalid" class=" contactAlert text-red-500 text-sm mt-1">
            Enter a valid email address
          </p>
        </div>

        <!-- ===== Subject -->
        <div>
          <label class="contactlabel block text-sm font-medium text-gray-700 mb-2">Subject</label>
          <input type="text" formControlName="subject"
            class="formplaceholder w-full px-4 py-3 border text-sm border-slate-300  rounded-lg focus:ring-2 focus:ring-blue-500"
            placeholder="Enter subject">

          <p *ngIf="submitted && contactForm.controls['subject'].invalid"
            class="contactAlert text-red-500 text-sm mt-1">
            Subject is required
          </p>
        </div>

        <!-- --------- Message -->
        <div>
          <label class="contactlabel block text-sm font-medium text-gray-700 mb-2">Your Message</label>
          <textarea rows="5" formControlName="message"
            class="formplaceholder w-full px-4 py-3 text-sm border border-slate-300  rounded-lg focus:ring-2 focus:ring-blue-500 resize-none"
            placeholder="Enter your message here..."></textarea>

          <p *ngIf="submitted && contactForm.controls['message'].invalid"
            class="contactAlert text-red-500 text-sm mt-1">
            Message must be at least 10 characters
          </p>
        </div>

        <!-- Submit ------------- -->
        <button type="submit" [disabled]="loading"
          class="w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-lg hover:bg-green-700 font-semibold flex items-center justify-center gap-2">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8">
            </path>
          </svg>
          Send Message
        </button>

      </form>
    </div>
  </div>
</div>
<!-- </section> -->


<!-- GLOBAL LOADER (FULL SCREEN) -->
<div *ngIf="loading" class="fixed inset-0 bg-black/40 flex items-center justify-center z-[60]">
  <div class="bg-white dark:bg-gray-800 px-6 py-4 rounded-xl shadow-lg flex items-center gap-3">
    <svg class="w-8 h-8 animate-spin text-purple-600" viewBox="0 0 30 30">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" class="opacity-25"></circle>
      <path fill="currentColor" class="opacity-75" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z">
      </path>
    </svg>
    <span class="font-semibold text-gray-700 dark:text-gray-200">Sending...</span>
  </div>
</div>

<!-- BACK DIALOG BOX -->
<div *ngIf="showDialog" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
  <!-- MODAL -->
  <div class="bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-xl w-80 text-center
           animate-fadeIn">
    <h2 class="text-lg font-semibold text-gray-800 dark:text-white">
      Message Sent!
    </h2>

    <p class="mt-2 text-gray-600 dark:text-gray-300 text-sm">
      Your message was sent successfully.
    </p>

    <button (click)="closeDialog()" class="mt-5 px-5 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700
             transition-all">
      OK
    </button>
  </div>
</div>